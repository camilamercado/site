<!DOCTYPE html>
<html>
    <head>
    	<script src="http://d3js.org/d3.v3.min.js"  charset="utf-8"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
      <script src="intention/test/vendor/jquery.js"></script>
    </head>

    <style type="text/css">
    
      div.bar {
        display: inline-block;
        width: 84px;
        height: 624px;
        background-color: teal;
        margin-right: 2px;

        background-position: 200px 0px;
        -webkit-transition: all .2s ease;
        -moz-transition: all .2s ease;
         background: url(col1.jpg);
         opacity: 0.8;
         background-repeat: no-repeat;


      }

      div.bar:hover {
        opacity: 0.3;
      }

      body {
        background: url(cat.jpg);
        background-position: -100px 0px;
        color: black;
        font-family: "courier new";
        text-transform: lowercase;
        background-size: 100% auto;
      }

      .type {
        position: absolute;
        z-index: 2;
        right: 90px;
      }

       .obj{
        width: 85%;
        height: 100%;
       /* -webkit-transform: rotate(45deg);*/
        /*border: 1px solid steelblue;*/
        position: absolute;
        top: 0px;
        left: 90px;
        background: url(cat.jpg);
        background-size: 115% auto;
        background-position: -150px 0px;

        opacity: 0.6;

      }

      .gio {
        position: absolute;
        top: 0px;
        left: 50px;
        width: 85%;
        height: 100%;
        background: url(steam.jpg);
        background-size: 100%; 
        position: absolute;
        opacity: 0.8;
      }

       #chap {
        display: none;
         position: absolute;
        top: 0px;
        left: 50px;
        width: 85%;
        height: 100%;
        background: url(stadium.jpg);
        background-size: 100%; 
        position: absolute;
        opacity: 0.8;
        -webkit-transition: display 3.5s ease;
      }

      .chap {
        position: absolute;
        top: 0px;
        height: 100%;
        width: 100%;
         background-size: 100%; 
        opacity: 0.4;
        background: url(stadium.jpg)!important;
      }

      .chap:hover {
       top: 50px;
       opacity: 0;
        -webkit-transition: all 2s ease;
      }

      /*.gio:hover{
        position: absolute;
        bottom: 900px;
        opacity: 0.4;
        -webkit-transition: all 3.5s ease;
      }*/

      .obj:hover {
        opacity: 0;
        left:30px;
       /* -webkit-transform: rotate(45deg);*/
        -webkit-transition: all 3.5s ease;
        -moz-transition: all 1.5s ease;
         background: url(puro.jpg);
          background-size: 115% auto;
        background-position: -150px 0px;
        
      }

      .color {
        width: 90px;
        height: 960px;
        background: url(swatch.jpg);
        position: absolute;
        right: 0px;
        top: 0px;
        display: none;
        opacity: 0;
        -webkit-transition: all 3.5s ease;
      }

      .color:hover {
        /*width: 100%;
        height: 960px;
        background: url(puro.jpg);
        position: absolute;
        left: 960px;
        display: none;*/
        opacity: 1;
        -webkit-transition: all 3.5s ease;
      }

      .display {
        display: block!important;
      }

      .hide {
        opacity: 0;
        -webkit-transition: all 6.5s ease;
      }


    </style>

    <body>

    <div class="type">l<br>o<br>o<br>k<br>i<br>n<br>g<br><br>d<br>i<br>r<br>e<br>c<br>t<br>l<br>y<br><br>a<br>t<br><br>t<br>h<br>e<br><br>s<br>u<br>n</div>
    <div id="action" class="obj" onclick="sun();"></div>
    <div id="chap"><div class="chap"></div></div>
    <div class="color" onmouseover="swatch();"></div>
    

         <script type="text/javascript">



          function sun () {
            
            $("#action").addClass("gio");
            $("#action").removeClass("obj");

          }


          $("#action").click(function(){
  
            var dataset = [];                               //Initialize empty array
            for (var i = 0; i < 15; i++) {                  //Loop 25 times
              var newNumber = Math.random() * 45;           //New random number (0-30)
              dataset = dataset.concat(newNumber);          //Add new number to array
            }


            
            d3.select(".gio").selectAll("div")
              .data(dataset)
              .enter()
              .append("div")
              .attr("class", "bar")
              .style("height", function(d) {
                var barHeight = d * 18;
                return barHeight + "px";
              })
              .style("opacity", function(d) {
                if (d < 15) {   
                    return "0.3";
                } else {
                    return "0.8";
                }
               })
              ;

              d3.select("body")                                  //On mouseover, update with new data  
            .on("mouseover", function() {                   //New values for dataset

                                                        
          var numValues = dataset.length;                   //Count original length of dataset
          dataset = [];                                     //Initialize empty array
          
          for (var i = 0; i < numValues; i++) {             //Loop numValues times
            var newNumber = Math.floor(Math.random() * 55); //New random integer (0-25)
            dataset.push(newNumber);                        //Add new number to array
          }

          d3.selectAll(".bar")                                //Update all rects
            .data(dataset)
            .transition()
            .delay(function(d, i) {
              return i / dataset.length * 2000;
            })
            .duration(500)
            
            .style("height", function(d) {
               var barHeight = d * 18;
               return barHeight + "px";
            })

            $(".color").show();
           // $(".color").addClass("show");
            
        });

          });


          function swatch () {

            $(".gio").addClass("hide");

            console.log("swatch");


          }

          $(".color").click(function(){
            $("#chap").show();
            $("#action").removeClass("gio");
            $("#action").addClass("hide");
           

          });

         
                    


         </script>

      </body>
      </html>