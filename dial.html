<!DOCTYPE html>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<link href='http://fonts.googleapis.com/css?family=EB+Garamond' rel='stylesheet' type='text/css'>
<link href="dial/red_fav.png" rel="icon" type="image/png">
<title>DIAL - 64</title>
<style>


@import url(http://fonts.googleapis.com/css?family=EB+Garamond);


body {
  font-family: 'andale mono';
  margin: auto;
  position: absolute;
  background: url(mask.jpg);
  background-size: 100% auto;
  background:lightgrey;
  -moz-transform: scale(0.8);
  -webkit-transform: scale(0.8);
  zoom: 0.8;
}

.leftmost {
  height: 900px;
  width: 150px;
  /*background: tomato;*/
  /*background: goldenrod;*/
  /*background: white;*/
  position: absolute;
  left: 0px;
  top: 0px;
}

.leftmost p {
  position: absolute;
  top: 80px;
  left: 30px;
  text-align: right;
}

.leftmost li {
  background-color: white;
  list-style-type: none;
  line-height: 31px;
  font-size: 38px;
  font-style: italic;
}


.border {
  width: 5px;
  height: 800px;
  /*background: url(yarrow.jpg);*/
  position: absolute;
  opacity: 0.6;

}

.orient {
  border: 1px solid white;
  height: 740px;
  width: 570px;
  float: left;
  /*margin-left: 5%;*/
  margin-right: 100px;
  margin-top: 50px;
  /*padding: 200px;*/
  position: absolute;
  left: 150px;
}

.power {

  display: block;
  width: 58px;
  height: 80px;
  position: absolute;
  left: 470px;
  top: 20px;
  border:1px solid white;
  color: white;
  font-size: 36px;
  padding-left: 22px;
  line-height: 85px;
  -webkit-transition: color 1s ease;
  -moz-transition:    color 1s ease;
  -opera-transition:  color 1s ease;
}

.of {
  position: absolute;
  font-size: 22px;
  width: 20px;
  height: 20px;
  top: -15px;
  left: 45px;

}

.target {
  position: absolute;
  width: 140px;
  height: 140px;
  left: 50%;
  margin-left: -140px;
  top: 100px;
}

.x, .y {
  width: 300px;
  height: 300px;
}

.compass {
  position: absolute;
  width: 140px;
  height: 140px;
  top: 400px;
  left: 50%;
  margin-left: -100px;
  -webkit-transform: rotate(25deg);
  -moz-transform:    rotate(25deg);
  -opera-transform:  rotate(25deg);
}

.arrow{
  position: absolute;
  width: 250px;
  height: 250px;
  top:30px;
  left: 25px;
  background-image: url(dial/arrow.png);
  background-size: 200px 200px;
  background-repeat: no-repeat;
}

.stone {
  position: absolute;
  width: 300px;
  height: 300px;
  top: 300px;
  background-image: url(tablet.jpg);
  background-size: 290px 290px;
  background-repeat: no-repeat;
 /* border-radius: 50%;*/
/* padding: 10px 10px 5px 5px;*/
background-position: 10px 10px;
 padding-top: 10px;
  padding-left: 10px;
 border: 1px solid white;

}

.panel { 
 /* background: grey;*/
  position: absolute;
  margin-left: 50px;
  height: 740px;
  width: 571px;
  background-color: black;
  top: 50px;
  left: 722px; 
  z-index: -2;
  -webkit-transition: background 1s ease;
  -moz-transition:    background 1s ease;
  -opera-transition:  background 1s ease;
}

.title {
  background: lightgrey;
  position: absolute;
  width: 650px;
  height: 65px;
  top: -12px;
  font-size: 53px;
  line-height: 70px;
  color: white;
  font-family: "andale mono";
}

.title .text {
  position: absolute;
 /* top: -30px;*/
  width: auto;
 /* z-index: -1;*/
}


.blockout p {
  width: 29px;
  height: 53px;
  background: tomato;
  position: relative;
  float: left;
  margin-top: 12px;
  margin-right: 3px;
  /*border: 1px solid tomato;*/
}

.blockout {
  width: auto;
  height: 75px;
  position: absolute;
  display: block;
  opacity: 1;
  z-index: 2;
  -webkit-transition: display 1s ease;
  -moz-transition:    display 1s ease;
  -opera-transition:  display 1s ease;
}

.blockout:hover {
  opacity: 0;
}

.blockout .yi,
.blockout .jing,
.blockout .sequence {
  width: auto;
  height: 45px;
  float: left;
  margin-right: 31px;
  z-index: 2;
}

.panel .hex {
  position: absolute;
  margin-left: 8%;
  left: 600px;
  margin-top: 195px;
  width: 30px;
}

.panel .hex img {
margin-top: 10px;
}

.panel .numbers {
  font-family: 'andale mono', sans-serif;
  font-size: 14px;
  color: lightgrey;
  margin-top: 100px;
  width: 93%;
  padding: 20px;
  padding-bottom: 50px;
  position: absolute;
}

.panel .numbers .quote {
  width: 90%;
  margin-top: 50px;
  font-size: 17px;
  line-height: 25px;
  z-index: 12;
  position: absolute;

}

form {
  position: absolute;
  right: 10px;
  top: 10px;
}

label {
  display: none;
}

#pic {
  background-image: url("images/xiantian.gif");
height: 176px;
width: 200px;
top: 400px;
position: absolute;
left: 100px;
}

#lightgrey {
  /*//fill:lightgrey;*/
  -webkit-transition: all 1s ease;
  -moz-transition:    all 1s ease;
  -opera-transition:  all 1s ease;
}

#white {
 /* fill:white;*/
  -webkit-transition: all 1s ease;
  -moz-transition:    all 1s ease;
  -opera-transition:  all 1s ease;
}

ul {
  margin-top: 150px;
  margin-left: 0px;
  padding: 0px;
}

li {

  margin-bottom: 5px;
  /*background: black;*/
  height: 30px;
  color: white;
  text-align: right;
  -webkit-transition: color 1s ease;
  -moz-transition:    color 1s ease;
  -opera-transition:  color 1s ease;
}

#notes  {
  top:280px;
  position: absolute;
  width: 300px;
  color: black;
  text-align: left;
  padding-left: 00px;
}
#notes li {
  color: black;
  margin-bottom: 50px;
  text-align: left;
  list-style-type: none;
}

#notes a {
  color: black!important;
}

</style>
<body onLoad="loadDial()">
<form>
  <label><input type="radio" name="dataset" value="apples" checked="" > Apples</label>
  <label><input type="radio" name="dataset" value="oranges"> Oranges</label>
</form>

<div class="leftmost">
<!-- <p>
A brief introduction
</p> -->

<ul>
<li class="exp l6">2^1   2</li>
<li class="exp l5">2^2   4</li>
<li class="exp l4">2^3   8</li>
<li class="exp l3">2^4   16</li>
<li class="exp l2">2^5   32</li>
<li class="exp l1">2^6   64</li>
</ul>
</div>

<div class="orient">
<div class="power">
  2<div class="of">^</div>
</div>
<div class= "target"><svg class="x"></svg></div>
<div class= "compass"><svg class="y"></svg>
<!-- <div class="arrow"></div> -->
</div>

</div>

<div class="panel">
    
  <div class="title">
    <div class="blockout">
    <div class="yi"><p></p><p></p><p></p><p></p></div>
    <div class="jing"><p></p><p></p><p></p><p></p></div>
    <div class="sequence"><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p></div>
    </div>
    <div class="text">Shao Yong Sequence</div>
  </div>

  <div class="numbers">

    
    <p class="ff">0101010101010101010101010101010101010101010101010101010101010101
    </p>
    <p class="ee">
    0011001100110011001100110011001100110011001100110011001100110011
    </p>
    <p class="dd">
    0000111100001111000011110000111100001111000011110000111100001111
    </p>
    <p class="cc">
    0000000011111111000000001111111100000000111111110000000011111111
    </p>
    <p class="bb">
    0000000000000000111111111111111111111111111111110000000000000000
    </p>
    <p class="aa">
    0000000000000000000000000000000011111111111111111111111111111111
    </p>


    <div class="quote">
    "Shao Yung's schema has led to one of the most extraordinary episodes in the history of the human mind, and upto this day it has never been satisfactorily cleared up. More than six hundred years after its origin, Shao's diagram fell into the hands of Leibniz through the agency of Jesuit missionaries, and he recognized in it a system that had previously sprung from his own mathematical genius"</br></br>
    The Later History of the Book of Changes, Hellmut Wilhelm, Richard Wilhelm </br> Princeton University Press, 1960
    </div>
  
  </div>



  <ul id="notes">


   
    <li><a href="http://www.levity.com/eschaton/waveexplain.html">
    Derivation of the Timewave from the King Wen Sequence of Hexagrams
    </a></li>
    <li><a href="http://www.fourpillars.net/pdf/kingwen.pdf">
      The explanation of King Wenâ€™s order of the 64 hexagrams.
    </a></li>  
     <li onMouseOver="loadDial()"><a href="http://www.biroco.com/yijing/sequence.htm">
      Yijing hexagram sequences
    </a></li>
  </ul>
</div>

<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="intention/test/vendor/jquery.js"></script>
<!-- <script src="d3/d3.min.js"></script> -->
<script>

data = [{"label":"one", "value":20}, 
        {"label":"two", "value":50}, 
        {"label":"three", "value":30}];

var fC  = ["lightgrey","white"];
var fC2 = ["white"];
var fC3 = ["red"];

//setTimeout()


function loadDial(){

dial( 140, [32,0], fC,  "data/d5.tsv", ".x", "f", 64  );
dial( 120, [16,0], fC,  "data/d4.tsv", ".x", "e", 32  );
dial( 100, [8, 0], fC,  "data/d3.tsv", ".x", "d", 16  );
dial( 80,  [3, 0], fC,  "data/d2.tsv", ".x", "c", 8  );
dial( 60,  [1, 1], fC,  "data/d1.tsv", ".x", "b", 4  );
dial( 40,  [0, 0], fC,  "data/d0.tsv", ".x", "a", 2  );
 
//dial( 81,  [0, 0], fC3,  "data/d0.tsv", ".comp, 0ass"  ); 
dial( 60,  [3, 0], fC,  "data/d2.tsv", ".y", "j", 0  );
dial( 50,  [1, 1], fC,  "data/d1.tsv", ".y", "i", 0  );
dial( 40,  [0, 0], fC,  "data/d0.tsv", ".y", "h", 0  );
dial( 30,  [8, 0], fC2, "data/d0.tsv", ".y", "g", 0  );

}



function dial (oR, dR, fillColor, dataChart, dC, id, C) {

var width  = 140,
    height = 140,
    radius = Math.min(width, height) / 2;

var color = d3.scale.ordinal().domain(dR).range(fillColor);
// .style("fill", function(d) {
//     return d.color = color(d.name.replace(/ .*/, ""));
// })

var color = d3.scale.ordinal()
    .domain(dR)
    .range(fillColor);
   // .attr("id", id);
//.attr("fill", function(d) { return color(d.division); });

//console.log(color);
var pie = d3.layout.pie()
    .value(function(d) { return d.apples; })
    .sort(null);
    
var arc = d3.svg.arc()
    .innerRadius(0)
    .outerRadius(oR);

var svg = d3.select(dC).append("g")
    .attr("id", id) 
    .attr("transform", "translate(" + width  + "," + height + ")");

 
d3.tsv(dataChart, type, function(error, data) {
  var path = svg.datum(data).selectAll("path")
      .data(pie)
      .enter().append("g:path")
      
      .attr("d", arc)
      .attr("fill", function(d, i) { return color(i); })
      .each(function(d) { this._current = d; })
      .attr("id", function(d, i) { return color(i); }) 
      //function(d,i) {return 10*(i+1)+"px";})
      // .attr("class", function(d, i) { return "a" + ((dR[0]*2) - i); });  
      .attr("class", function(d, i) { return "a" + (C - i++) });  


  d3.selectAll("input")
      .on("change", change);

  var timeout = setTimeout(function() {
    d3.select("input[value=\"oranges\"]").property("checked", true).each(change);
  }, 2000);

  function change() {
    var value = this.value;
    clearTimeout(timeout);
    pie.value(function(d) { return d[value]; }); // change the value function
    path = path.data(pie); // compute the new angles
    //console.log(patxh);
    path.transition().duration(750).attrTween("d", arcTween); // redraw the arcs
  }
});


function type(d) {
  d.apples = +d.apples;
  d.oranges = +d.oranges;
  return d;
}


function arcTween(a) {
  var i = d3.interpolate(this._current, a);
  this._current = i(0);
  return function(t) {
    return arc(i(t));
  };
}
};

d3.select(".x")                                     
  .on("mouseover", function(d) { 

d3.select("#a")                                     
  .on("mouseover", function(d) { 
   d3.selectAll("#a #lightgrey").attr("fill", "black")
   //d3.select(".l1") .style("color", "tomato")
   d3.select(".l1") .style("background-color", "black")
   document.querySelector(".of").innerHTML="6";
   d3.select(".aa") .style("color", "tomato")
})

  d3.select("#a")                                     
  .on("mouseout", function(d) { 
   d3.selectAll("#a #lightgrey").attr("fill", "lightgrey")
   d3.select(".l1") .style("background-color", "white")
   document.querySelector(".of").innerHTML="6";
   d3.select(".aa") .style("color", "white")
})

d3.select("#b")                                     
  .on("mouseover", function(d) {  
   d3.selectAll("#b #lightgrey") .attr("fill", "black")
   //d3.select(".l2") .style("color", "tomato")
   d3.select(".l2") .style("background-color", "black")
   document.querySelector(".of").innerHTML="5";
   d3.select(".bb") .style("color", "tomato")
})

  d3.select("#b")                                     
  .on("mouseout", function(d) {  
   d3.selectAll("#b #lightgrey") .attr("fill", "lightgrey")
   //d3.select(".l2") .style("color", "tomato")
   d3.select(".l2") .style("background-color", "white")
   document.querySelector(".of").innerHTML="5";
   d3.select(".bb") .style("color", "white")
})

d3.select("#c")                                     
  .on("mouseover", function(d) {  
   d3.selectAll("#c #lightgrey") .attr("fill", "black")
   //d3.select(".l3") .style("color", "tomato")
   d3.select(".l3") .style("background-color", "black")
   document.querySelector(".of").innerHTML="4";
   d3.select(".cc") .style("color", "tomato")
})

  d3.select("#c")                                     
  .on("mouseout", function(d) {  
   d3.selectAll("#c #lightgrey") .attr("fill", "lightgrey")
   //d3.select(".l3") .style("color", "tomato")
   d3.select(".l3") .style("background-color", "white")
   document.querySelector(".of").innerHTML="4";
   d3.select(".cc") .style("color", "white")
})

d3.select("#d")                                     
  .on("mouseover", function(d) {  
   d3.selectAll("#d #lightgrey") .attr("fill", "black")
   //d3.select(".l4") .style("color", "tomato")
   d3.select(".l4") .style("background-color", "black")
   document.querySelector(".of").innerHTML="3";
   d3.select(".dd") .style("color", "tomato")
})

d3.select("#d")                                     
  .on("mouseout", function(d) {  
   d3.selectAll("#d #lightgrey") .attr("fill", "lightgrey")
   //d3.select(".l4") .style("color", "tomato")
   d3.select(".l4") .style("background-color", "white")
   document.querySelector(".of").innerHTML="3";
   d3.select(".dd") .style("color", "white")
})

d3.select("#e")                                     
  .on("mouseover", function(d) {  
   d3.selectAll("#e #lightgrey") .attr("fill", "black")
  // d3.select(".l5") .style("color", "tomato")
   d3.select(".l5") .style("background-color", "black")
   document.querySelector(".of").innerHTML="2";
   d3.select(".ee") .style("color", "tomato")
})

  d3.select("#e")                                     
  .on("mouseout", function(d) {  
   d3.selectAll("#e #lightgrey") .attr("fill", "lightgrey")
  // d3.select(".l5") .style("color", "tomato")
   d3.select(".l5") .style("background-color", "white")
   document.querySelector(".of").innerHTML="2";
   d3.select(".ee") .style("color", "white")
})

d3.select("#f")                                     
  .on("mouseover", function(d) {  
   d3.selectAll("#f #lightgrey") .attr("fill", "black")
  // d3.select(".l6") .style("color", "tomato")
   d3.select(".l6") .style("background-color", "black")
   document.querySelector(".of").innerHTML="1";
   d3.select(".ff") .style("color", "tomato")

})

  d3.select("#f")                                     
  .on("mouseout", function(d) {  
   d3.selectAll("#f #lightgrey") .attr("fill", "lightgrey")
  // d3.select(".l6") .style("color", "tomato")
   d3.select(".l6") .style("background-color", "white")
   document.querySelector(".of").innerHTML="1";
   d3.select(".ff") .style("color", "white")

})


d3.selectAll("#g")                                     
  .on("mouseout", function(d) {  
   d3.selectAll("#lightgrey") .attr("fill", "lightgrey")
   d3.selectAll("#white") .attr("fill", "white")
   d3.selectAll(".exp") .style("background-color", "white")
   d3.selectAll(".exp") .style("color", "white")
   d3.selectAll("p") .style("color", "lightgrey")
   document.querySelector(".of").innerHTML="^";
}) 

})

var color = d3.scale.ordinal().domain([0,0]).range(["red","blue"]);

// var aL = d3.selectAll(".a1");
// var aW = d3.selectAll(".a1 #white");

d3.select(".y")                                     
  .on("mouseover", function(d) {  
    console.log("wtf")
  // d3.selectAll("#lightgrey") .attr("fill", "black")
   //d3.selectAll("path") .attr("fill", function(d, i) { return color(i); })
   //d3.selectAll(".a1") .attr("fill", "red")
   d3.selectAll(".a1") .attr("fill", "tomato")
   d3.selectAll(".a2") .attr("fill", "indianred")
   d3.selectAll(".a3") .attr("fill", "darkseagreen")
   d3.selectAll(".a4") .attr("fill", "cadetblue"   )
   d3.selectAll(".a5") .attr("fill", "lightblue"   )
   d3.select(".panel") .style("background", "black")
})


d3.select(".y")                                     
  .on("mouseout", function(d) {  
   d3.selectAll("#lightgrey") .attr("fill", "black")
   d3.selectAll("#white") .attr("fill", "white")
   //d3.select(".panel") .style("background", "none")
})

d3.select(".orient")                                     
  .on("mouseover", function(d) {  
   d3.select(".panel") .style("background", "black")
   //d3.selectAll("li") .style("background", "black")
   d3.selectAll(".power") .style("display", "block")
})


d3.select(".orient")                                     
  .on("mouseout", function(d) {  
   //d3.select(".panel") .style("background", "none")
   //d3.selectAll("li") .style("background", "white")
   d3.selectAll(".power") .style("display", "none")
})

</script>
<body>
  </html>